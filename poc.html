<script>
const btn = document.getElementById("btn");

btn.onclick = () => {
  // Simpan state kecil
  sessionStorage.setItem("askCam", "1");

  // Paksa page lifecycle event
  setTimeout(() => {
    navigator.mediaDevices.getUserMedia({ video: true });
  }, 20);
};

// Kalau page di-restore dari BFCache
window.addEventListener("pageshow", (e) => {
  if (e.persisted && sessionStorage.getItem("askCam") === "1") {
    navigator.mediaDevices.getUserMedia({ video: true });
  }
});
</script>
